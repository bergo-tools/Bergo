# Bergo - Bot Engineer in Golang

![Bergo Logo](./bergo-logo.png)

```
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•—  â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘       
â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â• 
```

**Bergo** (Bot EngineeR in GO) æ˜¯ä¸€ä¸ªåŸºäº Golang å¼€å‘çš„å‘½ä»¤è¡Œ AI Coding Agentï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿã€é«˜æ•ˆåœ°å®Œæˆä»£ç ç¼–å†™ä»»åŠ¡ã€‚

> æœ¬é¡¹ç›®ä¸»è¦ä»£ç ç”± AI ç¼–å†™ã€‚åŒæ—¶æ²¡åœ¨ Windows å¹³å°æµ‹è¯•è¿‡ï¼Œè¯·æœ€å¥½ä¸è¦åœ¨ Windows å¹³å°ä½¿ç”¨ã€‚å»ºè®®ç”¨linux/macos

## âœ¨ ç‰¹æ€§

- **å¤šæ¨¡å‹æ”¯æŒ** - æ”¯æŒå¤šç§ LLM æä¾›å•†ï¼Œä¸é™å®šç‰¹å®šæ¨¡å‹
- **å¼€ç®±å³ç”¨** - ä¸°å¯Œçš„é¢„ç½®é…ç½®ï¼Œå¿«é€Ÿä¸Šæ‰‹
- **CheckPoint æ”¯æŒ** - ä»£ç æ£€æŸ¥ç‚¹åŠŸèƒ½ï¼Œéšæ—¶å›é€€ä»£ç å˜æ›´
- **Agentic RAG** - å†…ç½®æ™ºèƒ½ RAG èƒ½åŠ›
- **å¤šæ¨¡å¼æ”¯æŒ** - ASKã€PLANNERã€AGENT ç­‰å¤šç§å·¥ä½œæ¨¡å¼
- **å¤šè¯­è¨€æ”¯æŒ** - å®Œæ•´çš„å›½é™…åŒ–æ”¯æŒï¼ˆä¸­æ–‡/è‹±æ–‡ï¼‰
- **è·¨å¹³å°** - æ”¯æŒ macOSã€Linuxã€Windows (amd64/arm64)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/bergo-tools/Bergo.git
cd Bergo

# å®‰è£…ä¾èµ–
go mod download

# æ„å»º
make build
```

### åˆå§‹åŒ–é…ç½®

```bash
# è¿è¡Œåˆå§‹åŒ–å‘å¯¼
bergo init
```

å‘å¯¼ä¼šå¼•å¯¼æ‚¨å®Œæˆï¼š
1. é€‰æ‹© AI æ¨¡å‹æä¾›å•†
2. è¾“å…¥ API å¯†é’¥
3. é€‰æ‹©ä¸»æ¨¡å‹
4. è‡ªåŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶

### è¿è¡Œ

```bash
# ä½¿ç”¨é»˜è®¤é…ç½® (bergo.toml)
bergo

# æŒ‡å®šé…ç½®æ–‡ä»¶
bergo your-config.toml
```

## ğŸ“¦ æ”¯æŒçš„æ¨¡å‹æä¾›å•†

| æä¾›å•† | æ¨èæ¨¡å‹ | è¯´æ˜ |
|--------|----------|------|
| **DeepSeek** | deepseek-chat, deepseek-reasoner | DeepSeek AI |
| **MiniMax** | minimax-m2 | MiniMax AI |
| **Kimi** | kimi-k2, kimi-k2-thinking | Moonshot AI |
| **Xiaomi** | mimo-v2-flash | å°ç±³ AI |
| **OpenAI** | gpt-4o, gpt-4-turbo | OpenAI GPT ç³»åˆ— |
| **Anthropic** | claude-3-5-sonnet | Claude ç³»åˆ— |
| **OpenRouter** | å¤šç§æ¨¡å‹ | ç¬¬ä¸‰æ–¹æ¨¡å‹å¹³å° |

## âš™ï¸ é…ç½®æ–‡ä»¶

é¡¹ç›®ä½¿ç”¨ `bergo.toml` é…ç½®æ–‡ä»¶ï¼Œä½äºå·¥ä½œç›®å½•ä¸‹ã€‚é¦–æ¬¡è¿è¡Œæ—¶ä¼šè‡ªåŠ¨å¼•å¯¼åˆ›å»ºã€‚

### åŸºæœ¬é…ç½®é¡¹

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|--------|------|
| `debug` | bool | `false` | æ˜¯å¦å¼€å¯è°ƒè¯•æ¨¡å¼ |
| `language` | string | `"chinese"` | ç•Œé¢è¯­è¨€ |
| `line_budget` | int | `1000` | è¯»å–æ–‡ä»¶æ—¶çš„æœ€å¤§è¡Œæ•°é™åˆ¶ |
| `compact_threshold` | float | `0.8` | ä¸Šä¸‹æ–‡å‹ç¼©é˜ˆå€¼ï¼ˆ0-1ï¼‰ï¼Œè¶…è¿‡æ­¤æ¯”ä¾‹æ—¶è§¦å‘å‹ç¼© |
| `max_session_count` | int | `0` | æœ€å¤§ä¼šè¯ä¿å­˜æ•°é‡ï¼Œ0è¡¨ç¤ºä¸é™åˆ¶ |
| `http_proxy` | string | - | HTTPä»£ç†åœ°å€ |

### æ¨¡å‹é€‰æ‹©é…ç½®

| é…ç½®é¡¹ | è¯´æ˜ |
|--------|------|
| `main_model` | ä¸»æ¨¡å‹æ ‡è¯†ç¬¦ï¼Œç”¨äºAgentå¯¹è¯ |
| `berag_model` | beragå·¥å…·ä½¿ç”¨çš„æ¨¡å‹ï¼ˆé»˜è®¤åŒmain_modelï¼‰ |
| `berag_extract_model` | beragæå–å†…å®¹ä½¿ç”¨çš„æ¨¡å‹ï¼ˆé»˜è®¤åŒmain_modelï¼‰ |

### API å¯†é’¥é…ç½®

æ”¯æŒä»¥ä¸‹æœåŠ¡å•†çš„å¿«æ·å¯†é’¥é…ç½®ï¼š

```toml
deepseek_api_key = "sk-xxx"
openai_api_key = "sk-xxx"
minimax_api_key = "xxx"
kimi_api_key = "xxx"
xiaomi_api_key = "xxx"
openrouter_api_key = "sk-xxx"
```

### è‡ªå®šä¹‰æ¨¡å‹é…ç½®

é€šè¿‡ `[[models]]` æ·»åŠ è‡ªå®šä¹‰æ¨¡å‹ï¼š

```toml
[[models]]
identifier = "my-model"          # æ¨¡å‹æ ‡è¯†ç¬¦ï¼Œç”¨äº main_model ç­‰å¼•ç”¨
provider = "openai"              # æœåŠ¡å•†: openai/anthropic/deepseek/minimax/kimi/xiaomi/openrouter
model_name = "gpt-4o"            # å®é™…æ¨¡å‹åç§°
api_key = "sk-xxx"               # APIå¯†é’¥ï¼ˆå¯é€‰ï¼Œä¼šè¦†ç›–å…¨å±€å¯†é’¥ï¼‰
base_url = "https://api.xxx.com" # è‡ªå®šä¹‰APIåœ°å€ï¼ˆå¯é€‰ï¼‰
support_vision = true            # æ˜¯å¦æ”¯æŒè§†è§‰,å¯å¦ä½¿ç”¨å›¾ç‰‡

# æ¨¡å‹å‚æ•°ï¼ˆå¯é€‰ï¼‰
temperature = 0.7                # æ¸©åº¦å‚æ•°
top_p = 1.0                      # Top-Pé‡‡æ ·
max_tokens = 8192                # æœ€å¤§è¾“å‡ºtokenæ•°
context_window = 128000          # ä¸Šä¸‹æ–‡çª—å£å¤§å°ï¼ˆæ¨èå¡«å†™ï¼‰

# é«˜çº§é…ç½®ï¼ˆå¯é€‰ï¼‰
frequency_penalty = 0.0          # é¢‘ç‡æƒ©ç½š
presence_penalty = 0.0           # å­˜åœ¨æƒ©ç½š
price_per_mil_token = 0.0        # æ¯ç™¾ä¸‡tokenä»·æ ¼ï¼ˆç”¨äºæˆæœ¬ç»Ÿè®¡ï¼‰
rate_limit_interval = 0        # è¯·æ±‚é—´éš”é™åˆ¶ï¼ˆç§’ï¼‰ï¼Œé˜²æ­¢APIé™æµ
think = false                    # æ˜¯å¦å¯ç”¨æ€è€ƒæ¨¡å¼
prefill = false                  # æ˜¯å¦å¯ç”¨é¢„å¡«å……
```

### é…ç½®ç¤ºä¾‹

```toml
# åŸºæœ¬é…ç½®
debug = false
language = "chinese"
line_budget = 1000

# ä½¿ç”¨ deepseek ä½œä¸ºä¸»æ¨¡å‹
main_model = "deepseek-chat"
deepseek_api_key = "sk-your-key"

# æ·»åŠ è‡ªå®šä¹‰æ¨¡å‹
[[models]]
identifier = "claude"
provider = "anthropic"
model_name = "claude-sonnet-4-20250514"
api_key = "sk-ant-xxx"
context_window = 200000
```

å®Œæ•´é…ç½®ç¤ºä¾‹å‚è§ [example_config.toml](./example_config.toml)

## ğŸ’» å‘½ä»¤å‚è€ƒ

### ç³»ç»Ÿå‘½ä»¤
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `/exit` | é€€å‡ºç¨‹åº |
| `/help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ |
| `/clear` | æ¸…é™¤å½“å‰ä¼šè¯ |
| `/sessions` | åŠ è½½å†å²ä¼šè¯ |

### æ¨¡å¼åˆ‡æ¢
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `/view` | åˆ‡æ¢åˆ° VIEW æ¨¡å¼ |
| `/planner` | åˆ‡æ¢åˆ° PLANNER æ¨¡å¼ |
| `/agent` | åˆ‡æ¢åˆ° AGENT æ¨¡å¼ |
| `/multiline` | å¯ç”¨å¤šè¡Œè¾“å…¥æ¨¡å¼ |

### åŠŸèƒ½å‘½ä»¤
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `/history` | æŸ¥çœ‹æ“ä½œæ—¶é—´çº¿ |
| `/revert` | å›é€€åˆ°ä¸Šä¸ªå­˜æ¡£ç‚¹ |
| `/model` | åˆ‡æ¢æ¨¡å‹ |
| `/compact` | å‹ç¼©ä¸Šä¸‹æ–‡ |

## ğŸ“ ä½¿ç”¨ @ ç¬¦å·æ·»åŠ ä¸Šä¸‹æ–‡

Bergo æ”¯æŒä½¿ç”¨ `@` ç¬¦å·å°†æ–‡ä»¶æ·»åŠ ä¸ºå¯¹è¯ä¸Šä¸‹æ–‡ï¼š

```bash
# æ·»åŠ å•ä¸ªæ–‡ä»¶
è¯·å¸®æˆ‘åˆ†æè¿™ä¸ªæ–‡ä»¶ @file:main.go

# æ·»åŠ æ•´ä¸ªç›®å½•
è¯·å¸®æˆ‘é‡æ„è¿™ä¸ªæ¨¡å— @file:utils/
```

- è¾“å…¥ `@file:` åå¯è§¦å‘è‡ªåŠ¨è¡¥å…¨
- æ”¯æŒæ·»åŠ å¤šä¸ªæ–‡ä»¶
- æ–‡ä»¶è·¯å¾„ä¸­ä¸èƒ½åŒ…å«ç©ºæ ¼


## ğŸŒ å¤šè¯­è¨€è®¾ç½®

### ç•Œé¢è¯­è¨€
```bash
# é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®
export BERGO_LANG=zh
bergo

# æˆ–ç›´æ¥è¿è¡Œ
BERGO_LANG=zh bergo
```

### LLM å›å¤è¯­è¨€
åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½® `language` å­—æ®µï¼š
```toml
language = "chinese"  # æˆ– "english" é»˜è®¤ä¸­æ–‡
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
bergo/
â”œâ”€â”€ agent/          # Agent æ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ berio/          # è¾“å…¥è¾“å‡ºå¤„ç†
â”œâ”€â”€ config/         # é…ç½®ç®¡ç†
â”œâ”€â”€ llm/            # LLM æä¾›å•†å®ç°
â”œâ”€â”€ locales/        # å›½é™…åŒ–
â”œâ”€â”€ prompt/         # æç¤ºè¯æ¨¡æ¿
â”œâ”€â”€ tools/          # å·¥å…·é›†
â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”œâ”€â”€ version/        # ç‰ˆæœ¬ç®¡ç†
â”œâ”€â”€ wizard/         # åˆå§‹åŒ–å‘å¯¼
â”œâ”€â”€ main.go         # ç¨‹åºå…¥å£
â””â”€â”€ Makefile        # æ„å»ºè„šæœ¬
```

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„ LLM æä¾›å•†

1. åœ¨ `llm/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„æä¾›å•†æ–‡ä»¶
2. å®ç° `LLMProvider` æ¥å£
3. åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ç›¸åº”é…ç½®

### è‡ªå®šä¹‰å·¥å…·

1. åœ¨ `tools/` ç›®å½•ä¸‹åˆ›å»ºæ–°å·¥å…·æ–‡ä»¶
2. å®ç°ç›¸åº”çš„æ¥å£
3. åœ¨ agent ä¸­æ³¨å†Œæ–°å·¥å…·

### è·¨å¹³å°æ„å»º

```bash
# æ„å»ºå½“å‰å¹³å°
make build

# æ„å»ºæ‰€æœ‰å¹³å°
make cross

# æ„å»ºç‰¹å®šå¹³å°
make darwin    # macOS
make linux     # Linux
make windows   # Windows
```

## ğŸ“ Memento æ–‡ä»¶

Bergo ä¼šåœ¨å·¥ä½œç›®å½•ä¸‹ç»´æŠ¤ `.bergo.memento` æ–‡ä»¶ï¼Œç”¨äºåœ¨é•¿æ—¶é—´å¯¹è¯ä¸­ä¿æŒä¸Šä¸‹æ–‡è®°å¿†ã€‚è¯¥æ–‡ä»¶åœ¨ Bergo å·¥ä½œæ—¶ä¼šçŸ­æš‚å‡ºç°ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Go 1.25** - ä¸»è¦å¼€å‘è¯­è¨€
- **Bubble Tea** - ç°ä»£ç»ˆç«¯ UI æ¡†æ¶
- **pterm** - ç»ˆç«¯ç¾åŒ–è¾“å‡º

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](LICENSE) è®¸å¯è¯ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

**Bergo** - AI-Powered Coding Agent ğŸš€
