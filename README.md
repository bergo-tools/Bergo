# Bergo - Bot Engineer in Golang

![Bergo Logo](./bergo-logo.png)

```
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•—  â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘       
â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â• 
```

## Bergo

BERGO(Bot EngineeR in GO) æ˜¯ä¸€ä¸ªåŸºäº Golang å¼€å‘çš„ Coding Agentï¼Œå®ƒå¯ä»¥å¸®åŠ©å¼€å‘è€…å¿«é€Ÿã€é«˜æ•ˆåœ°å®Œæˆä»£ç ç¼–å†™ä»»åŠ¡ã€‚
æœ¬é¡¹ç›®ä¸»è¦çš„ä»£ç ä¸»è¦ç”±AIç¼–å†™ï¼Œè´¨é‡æ¯”è¾ƒç²—ç³™ã€‚

## ç‰¹ç‚¹

- **å¤šæ¨¡å‹æ”¯æŒ**: ä¸é™å®šæ¨¡å‹ï¼Œæ”¯æŒå¤šç§APIæä¾›å•†
- **å¼€ç®±å³ç”¨**: ä¸°å¯Œçš„é…ç½®ï¼Œå¼€ç®±å³ç”¨
- **CheckPointæ”¯æŒ**: æ”¯æŒä»£ç æ£€æŸ¥ç‚¹ï¼Œéšæ—¶å›é€€ä½ çš„ä»£ç 
- **Agentic RAG**: å†…ç½®æ™ºèƒ½RAGèƒ½åŠ›
- **å¤šæ¨¡å¼æ”¯æŒ**: æ”¯æŒASKã€PLANNERã€AGENTç­‰å¤šç§å·¥ä½œæ¨¡å¼
- **ä¸°å¯Œå·¥å…·é›†**: æä¾›æ–‡ä»¶ç¼–è¾‘ã€ä»£ç åˆ†æã€Shellå‘½ä»¤ç­‰å¤šç§å·¥å…·
- **å¤šè¯­è¨€æ”¯æŒ**: å®Œæ•´çš„å›½é™…åŒ–æ”¯æŒ

## é¢„ç½®æ¨¡å‹

### LLMæä¾›å•†
- **OpenAI**: GPTç³»åˆ—æ¨¡å‹
- **Anthropic**: Claudeç³»åˆ—æ¨¡å‹  
- **DeepSeek**: DeepSeekç³»åˆ—æ¨¡å‹
- **Kimi**: Kimiç³»åˆ—æ¨¡å‹
- **MiniMax**: MiniMaxç³»åˆ—æ¨¡å‹
- **OpenRouter**: æ”¯æŒå¤šç§ç¬¬ä¸‰æ–¹æ¨¡å‹
- **Mock**: ç”¨äºæµ‹è¯•çš„æ¨¡æ‹Ÿæ¨¡å‹

### é…ç½®æ–‡ä»¶ç¤ºä¾‹

é¡¹ç›®ä½¿ç”¨ `bergo.toml` é…ç½®æ–‡ä»¶ï¼š

```toml
# ä¸»æ¨¡å‹
main_model = "minimax-m2"
# beragæ¨¡å‹
berag_model = "minimax-m2"
# beragæå–æ¨¡å‹
berag_extract_model = "minimax-m2"
# è¯»å–æœ€å¤§è¡Œæ•°
line_budget = 1000
# è°ƒè¯•æ¨¡å¼
debug = false

# APIå¯†é’¥é…ç½®ï¼Œå¼€ç®±å³ç”¨æ”¯æŒ3ç§æ¨¡å‹ä¾›åº”å•†ï¼Œdeepseek/kimi/minimax
deepseek_api_key = "your-deepseek-key"
kimi_api_key = "your-kimi-key"
minimax_api_key = "your-minimax-key"

# æ¨¡å‹é…ç½®
[[models]]
identifier = "mock"
provider = "mock"
reasoning_tag = "think"


```

## å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨åˆå§‹åŒ–å‘å¯¼

Bergoæä¾›äº†ä¸€ä¸ªç®€å•çš„åˆå§‹åŒ–å‘å¯¼ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿåˆ›å»ºé…ç½®æ–‡ä»¶ï¼š

```bash
# è¿è¡Œåˆå§‹åŒ–å‘å¯¼
bergo init
```

å‘å¯¼ä¼šå¼•å¯¼æ‚¨å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š
1. é€‰æ‹©AIæ¨¡å‹æä¾›å•†ï¼ˆDeepSeekã€MiniMaxã€Kimiã€Xiaomiã€OpenAIã€OpenRouterï¼‰
2. è¾“å…¥APIå¯†é’¥
3. é€‰æ‹©ä¸»æ¨¡å‹
4. è‡ªåŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶

### æ‰‹åŠ¨é…ç½®

å¦‚æœæ‚¨æƒ³æ‰‹åŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹ç¤ºä¾‹ï¼š

### é…ç½®æ–‡ä»¶ç¤ºä¾‹

é¡¹ç›®ä½¿ç”¨ `bergo.toml` é…ç½®æ–‡ä»¶ï¼š

```toml
# ä¸»æ¨¡å‹
main_model = "minimax-m2"
# beragæ¨¡å‹
berag_model = "minimax-m2"
# beragæå–æ¨¡å‹
berag_extract_model = "minimax-m2"
# è¯»å–æœ€å¤§è¡Œæ•°
line_budget = 1000
# è°ƒè¯•æ¨¡å¼
debug = false

# APIå¯†é’¥é…ç½®ï¼Œå¼€ç®±å³ç”¨æ”¯æŒ3ç§æ¨¡å‹ä¾›åº”å•†ï¼Œdeepseek/kimi/minimax
deepseek_api_key = "your-deepseek-key"
kimi_api_key = "your-kimi-key"
minimax_api_key = "your-minimax-key"

# æ¨¡å‹é…ç½®
[[models]]
identifier = "mock"
provider = "mock"
reasoning_tag = "think"


```

## é¢„ç½®å‘½ä»¤

### ç³»ç»Ÿå‘½ä»¤
- `/exit` - é€€å‡ºç¨‹åº
- `/help` - æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
- `/clear` - æ¸…é™¤å½“å‰ä¼šè¯ï¼Œåˆ›å»ºæ–°ä¼šè¯
- `/sessions` - åŠ è½½å†å²ä¼šè¯

### æ¨¡å¼åˆ‡æ¢
- `/ask` - åˆ‡æ¢åˆ°ASKæ¨¡å¼
- `/planner` - åˆ‡æ¢åˆ°PLANNERæ¨¡å¼  
- `/agent` - åˆ‡æ¢åˆ°AGENTæ¨¡å¼
- `/multiline` - å¯ç”¨å¤šè¡Œè¾“å…¥æ¨¡å¼

### åŠŸèƒ½å‘½ä»¤
- `/timeline` - æŸ¥çœ‹æ“ä½œæ—¶é—´çº¿
- `/revert` - å›é€€åˆ°å†å²çŠ¶æ€
- `/model` - åˆ‡æ¢æ¨¡å‹
- `/compact` - å‹ç¼©ä¸Šä¸‹æ–‡

## æ ¸å¿ƒæ¨¡å—

### Agentæ¨¡å— (`agent/`)
- `agent.go`: ä¸»è¦æ™ºèƒ½ä½“é€»è¾‘
- `cmd.go`: å‘½ä»¤å¤„ç†ç³»ç»Ÿ
- `tools.go`: å·¥å…·ç®¡ç†

### å·¥å…·æ¨¡å— (`tools/`)
- `edit.go`: æ–‡ä»¶ç¼–è¾‘å·¥å…·
- `read_file.go`: æ–‡ä»¶è¯»å–å·¥å…·
- `shell_cmd.go`: Shellå‘½ä»¤æ‰§è¡Œå·¥å…·
- `berag.go`: RAGå¢å¼ºå·¥å…·
- `task.go`: ä»»åŠ¡ç®¡ç†å·¥å…·
- `remove.go`: æ–‡ä»¶åˆ é™¤å·¥å…·
- `stop_loop.go`: å¾ªç¯æ§åˆ¶å·¥å…·
- `compact.go`: ä¸Šä¸‹æ–‡å‹ç¼©å·¥å…·

### LLMæ¨¡å— (`llm/`)
- `provider.go`: LLMæä¾›å•†æ¥å£
- `openai.go`: OpenAIæä¾›å•†
- `anthropic.go`: Anthropicæä¾›å•†
- `deepseek.go`: DeepSeekæä¾›å•†
- `kimi.go`: Kimiæä¾›å•†
- `minimax.go`: MiniMaxæä¾›å•†
- `openrouter.go`: OpenRouteræä¾›å•†
- `mock.go`: æ¨¡æ‹Ÿæä¾›å•†

### å…¶ä»–æ¨¡å—
- `berio/`: è¾“å…¥è¾“å‡ºå¤„ç†
- `locales/`: å›½é™…åŒ–æ”¯æŒ
- `config/`: é…ç½®ç®¡ç†
- `utils/`: å·¥å…·å‡½æ•°åº“
- `prompt/`: æç¤ºè¯ç®¡ç†

## ä½¿ç”¨æ–¹æ³•

### å®‰è£…ä¾èµ–
```bash
go mod download
```

### è¿è¡Œç¨‹åº
```bash
# ä½¿ç”¨é»˜è®¤é…ç½®
go run .

# æŒ‡å®šé…ç½®æ–‡ä»¶
go run . bergo.toml
```


### Mementoæ–‡ä»¶

Bergoä¼šåœ¨å·¥ä½œç›®å½•ä¸‹ç»´æŠ¤ä¸€ä¸ª `.bergo.memento` æ–‡ä»¶ï¼Œç”¨äºåœ¨é•¿æ—¶é—´å¯¹è¯ä¸­ä¿æŒä¸Šä¸‹æ–‡è®°å¿†, ä½ å¯èƒ½ä¼šåœ¨Bergoå·¥ä½œæ—¶çŸ­æš‚çœ‹åˆ°å®ƒ


## å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„
```
bergo/
â”œâ”€â”€ agent/          # æ™ºèƒ½ä½“æ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ berio/          # è¾“å…¥è¾“å‡ºå¤„ç†
â”œâ”€â”€ config/         # é…ç½®ç®¡ç†
â”œâ”€â”€ llm/            # LLMæä¾›å•†
â”œâ”€â”€ locales/        # å›½é™…åŒ–
â”œâ”€â”€ prompt/         # æç¤ºè¯ç®¡ç†
â”œâ”€â”€ tools/          # å·¥å…·é›†
â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”œâ”€â”€ bergo.toml      # é…ç½®æ–‡ä»¶
â”œâ”€â”€ main.go         # ä¸»ç¨‹åºå…¥å£
â””â”€â”€ README.md       # é¡¹ç›®è¯´æ˜
```

### æ·»åŠ æ–°çš„LLMæä¾›å•†

1. åœ¨ `llm/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„æä¾›å•†æ–‡ä»¶
2. å®ç° `LLMProvider` æ¥å£
3. åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ç›¸åº”é…ç½®

### è‡ªå®šä¹‰å·¥å…·

1. åœ¨ `tools/` ç›®å½•ä¸‹åˆ›å»ºæ–°å·¥å…·æ–‡ä»¶
2. å®ç° `AgentInput` å’Œ `AgentOutput` æ¥å£
3. åœ¨ `agent.go` ä¸­æ³¨å†Œæ–°å·¥å…·

## æŠ€æœ¯æ ˆ

- **Go 1.25**: ä¸»è¦å¼€å‘è¯­è¨€
- **Bubble Tea**: ç°ä»£ç»ˆç«¯UIæ¡†æ¶


## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›æœ¬é¡¹ç›®ã€‚

---

**Bergo** - æœ¬æ–‡ä»¶ç”±AIç¼–å†™ ğŸš€
